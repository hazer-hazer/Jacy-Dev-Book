## Taxonomy and glossary

### Permissions

#### Mutability
**Mutable** - Allows read + write
**Immutable** - Allows only read, disallows write
**Opaque** - Disallows both read and write

> Don't confuse Opaque permission with Rust's opaque types (aka `impl Trait`)

#### Aliasing

**Linear** - Disallows aliases
**Locally sharable** - Allows aliases in single-thread
**Globally sharable** - Allows aliases shared between threads


### Combinations

| Mutability | Aliasing |
|:----------:|:--------:|
| Mutable | Linear |
| Mutable | Locally sharable |
| Mutable | Globally sharable |
| Immutable | Linear |
| Immutable | Locally sharable |
| Immutable | Globally sharable |
| Opaque | Linear |
| Opaque | Locally sharable |
| Opaque | Globally sharable |


#### Mutable/Immutable + Linear

This is the foundation of Rust -- move semantics.
Example:
```jc
let mut a = MyStruct {field: 123};
let b = a; // `a` is moved to `b`
let mut c = b; // `b` is moved to `c`
```

Linear type is orthogonal to aliasing as it cannot be aliased at all -- it is always moved.
Linear types allow moving from immutable context to mutable one.

> Actually, it is important to note, that these are not the actual "Linear" types, more likely to say that these are "Affine" types as we don't require user to use value (except linter warnings)


#### Mutable + Locally sharable

Example (pseudo Pony-like code):
```jc
let mut a = 123;
let mut b = ref a;

// `b` cannot be sent to another thread and can only be used in single one
```


#### Mutable + Globally sharable

Raw usage is **UNSAFE** as it needs lock functionality.

The safe implementation is commonly known as Mutex.


#### Immutable + Locally/Globally sharable

Immutable objects are safe to share globally.

#### Opaque

Dividing opaque permission by aliasing is non-sense as far as it just cannot be read or written to.

- Pony calls this `iso`
- Cone calls this `opaq`
- Rust does not have this ([here is an issue](https://github.com/rust-lang/rfcs/blob/master/text/1861-extern-types.md))

# Borrowed references

Borrowed references obey Rust borrow checker rules:
- There can only exist one mutable or any count of immutable borrows



# Opaque

Neither able to read or write to alias. Used for function pointers and other "externally-created" data.
